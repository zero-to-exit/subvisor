# 이미지 분석 비용 절감 가이드

## 🔴 OpenAI API 현황 (2024)

### 무료 옵션
- ❌ **현재 무료 티어 제공 안 함**
- 과거 무료 크레딧 제공은 중단됨
- 모든 API 사용은 유료 과금

### Vision API 비용
- Vision API는 **gpt-4o** 또는 **gpt-4o-2024-08-06** 모델만 지원
- gpt-4o-mini는 Vision을 지원하지 않음
- 이미지당 비용: 이미지 크기에 따라 다름 (대략 $0.01~0.01 per image)

## 💡 비용 절감 방법

### 1. 샘플링 사용 (스크립트에 구현됨)
```bash
# 전체 이미지 대신 일부만 샘플링
export SAMPLE_ONLY=true
export SAMPLE_COUNT=5  # 5개만 분석
python analyze_frames.py
```

### 2. 저가 오픈소스 Vision 모델 사용
- **LLaVA** (Large Language and Vision Assistant)
- **BLIP-2**
- **CLIP** (시맨틱 검색용)

### 3. 무료 대안 서비스
- **Google Gemini API**: 무료 티어 제공 (월 일정량 무료)
- **Anthropic Claude**: 무료 크레딧 제공 (신규 사용자)
- **Hugging Face Inference API**: 일부 모델 무료

## 🆓 무료/저가 대안 구현 옵션

### 옵션 1: Google Gemini (무료 티어)
```python
import google.generativeai as genai

genai.configure(api_key="YOUR_API_KEY")
model = genai.GenerativeModel('gemini-pro-vision')
response = model.generate_content([prompt, image])
```

### 옵션 2: LLaVA 로컬 실행
- 완전 무료
- GPU 필요 (CPU도 가능하지만 느림)
- 설치 복잡도 높음

### 옵션 3: Hugging Face API
- 일부 모델 무료
- 월 제한 있음

## 📊 비용 비교 (18개 이미지 기준)

| 방법 | 비용 | 장점 | 단점 |
|------|------|------|------|
| OpenAI gpt-4o | ~$0.18-0.36 | 정확도 높음, 빠름 | 유료 |
| Google Gemini | 무료 (제한) | 무료 티어 있음 | 정확도 약간 낮을 수 있음 |
| LLaVA 로컬 | 무료 | 완전 무료 | 설치 복잡, 느림 |
| 샘플링 (5개) | ~$0.05-0.10 | 비용 1/3로 절감 | 일부만 분석 |

## 🚀 추천 방법

1. **테스트용**: 샘플링 모드로 5개만 분석
2. **저예산**: Google Gemini 무료 티어 사용
3. **정확도 우선**: 전체 이미지 OpenAI gpt-4o 사용












